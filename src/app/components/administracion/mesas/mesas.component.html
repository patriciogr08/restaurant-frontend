<div class="p-1">
    <div class="p-2">
        <p-button label="Nueva Mesa" icon="pi pi-plus" class="p-button-success" (click)="nuevaMesa()"></p-button>
    </div>
    <div class="p-2 card">
        <p-table [value]="mesas"
            selectionMode="single" [(selection)]="selectedOption" dataKey="id"
            [scrollable]="true" 
            scrollHeight="50vh"
            [paginator]="true"
            [rows]="5"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [rowsPerPageOptions]="[5,10, 25]"
            styleClass="p-datatable-striped p-datatable-sm"
            [tableStyle]="{'min-width': '60rem'}">
            <ng-template pTemplate="caption">
                <div class="flex align-items-center justify-content-between">
                    <span class="pl-2">Listado Mesas </span>
                    <p-button icon="pi pi-refresh" (onClick)="obtenerMesas()"></p-button>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                <th class="text-center">Código</th>
                <th class="text-center">Capacidad</th>
                <th class="text-center">Activo</th>
                <th class="text-center">Acciones</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-mesa>
                <tr [pSelectableRow]="mesa">
                    <td class="text-center" >{{ mesa.codigo }}</td>
                    <td class="text-center" >{{ mesa.capacidad }}</td>
                    <td class="text-center" >
                        <span *ngIf="mesa.activo" class="p-tag p-tag-success">Sí</span>
                        <span *ngIf="!mesa.activo" class="p-tag p-tag-danger">No</span>
                    </td>
                    <td class="text-center">
                        <button pButton type="button" icon="pi pi-pencil" class="p-button-rounded p-button-info p-mr-2" (click)="editarMesa(mesa)"></button>
                        <button pButton type="button" icon="pi pi-ban" class="p-button-rounded p-button-danger" [disabled]="!mesa.activo" (click)="inactivarMesa(mesa)"></button>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td [attr.colspan]="5">No hay registros encontrados.</td>
                </tr>
            </ng-template>
        </p-table>
      </div>
      
</div>