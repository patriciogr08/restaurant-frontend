<div class="p-1">
    <div class="p-2">
        <p-button label="Nuevo mesero" icon="pi pi-plus" class="p-button-success" (click)="nuevoMesero()"></p-button>
    </div>
    <div class="p-2 card">
        <p-table [value]="meseros"
            selectionMode="single" [(selection)]="selectedOption" dataKey="id"
            [scrollable]="true" 
            scrollHeight="50vh"
            [paginator]="true"
            [rows]="5"
            [showCurrentPageReport]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [rowsPerPageOptions]="[5,10, 25]"
            styleClass="p-datatable-striped p-datatable-sm"
            [tableStyle]="{'min-width': '60rem'}">
            <ng-template pTemplate="caption">
                <div class="flex align-items-center justify-content-between">
                    <span class="pl-2">Meseros </span>
                    <p-button icon="pi pi-refresh" (onClick)="obtenerMeseros()"></p-button>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                <th class="text-center">Cédula</th>
                <th class="text-center">Nombre</th>
                <th class="text-center">Apellido</th>
                <th class="text-center">Celular</th>
                <th class="text-center">Activo</th>
                <th class="text-center">Acciones</th>
                </tr>
            </ng-template>
      
          <ng-template pTemplate="body" let-mesero>
            <tr [pSelectableRow]="mesero">
              <td class="text-center" >{{ mesero.cedula }}</td>
              <td class="text-center" >{{ mesero.nombres }}</td>
              <td class="text-center" >{{ mesero.apellidos }}</td>
              <td class="text-center" >{{ mesero.celular }}</td>
              <td class="text-center" >
                <span *ngIf="mesero.activo" class="p-tag p-tag-success">Sí</span>
                <span *ngIf="!mesero.activo" class="p-tag p-tag-danger">No</span>
              </td>
              <td class="text-center">
                <!-- Ícono para editar -->
                <button pButton type="button" icon="pi pi-pencil" class="p-button-rounded p-button-info p-mr-2" (click)="editarMesero(mesero)"></button>
      
                <!-- Ícono para inactivar -->
                <button pButton type="button" icon="pi pi-ban" class="p-button-rounded p-button-danger" [disabled]="!mesero.activo" (click)="inactivarMesero(mesero)"></button>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
                <td [attr.colspan]="5">No hay registros encontrados.</td>
            </tr>
        </ng-template>
        </p-table>
      </div>
      
</div>